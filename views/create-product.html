<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/global.css">
</head>
<style>

    .input-group__continer {
        padding: 50px;
        width: 60%;
    }

    @media screen and (max-width: 900px){
        .input-group__continer {
            padding: 20px;
            width: 100%;
        }
    }
   
</style>
<header id="header" style="min-height: 60px;"></header>
<body>
    <div id="liveAlertPlaceholder"></div>
    <div class="input-group__continer">
        <div class="input-group mb-5">
            <label class="input-group-text" for="inputGroupSelect01">Turkumni tanlang</label>
            <select class="form-select" id="inputGroupSelect01">
              <!-- <option selected>Telefonlar</option>
              <option value="1">Macbooklar</option>
              <option value="2">Notebooklar</option>
              <option value="3">Aksessuarlar</option> -->
            </select>
        </div>
        <h4>Parametrlar</h4>
        <div class="input-group mb-3">
            <span class="input-group-text">Maxsulot turkumi</span>
            <input type="text" id="model" value="ðŸ“±Iphone" class="form-control">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text">Prametr</span>
            <input type="text" id="product_name" value="Maxsulot nomi" class="form-control">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text">Prametr</span>
            <input type="text" id="price" value="Maxsulot narxi" class="form-control" >
        </div>
        <div class="dinamic-input__continer"> 
            <div class="input-group mb-3">
                <span class="input-group-text">Prametr</span>
                <input type="text" id="add_input" autofocus class="form-control">
                <button type="button" id="add__btn" class="btn btn-primary">+</button>
            </div>
        </div>
        <div class="d-grid gap-2 col-6 mx-auto">
            <button class="btn btn-success" id="save" type="button">Saqlash</button>
        </div>
    </div>
</body>
<script>
    let div = document.querySelector('.dinamic-input__continer')
    let btn = document.getElementById('add__btn')
    let editbtns = document.querySelectorAll('#edit__btn')
    btn.addEventListener('click', () => {
        let parent = btn.parentElement
        let input = document.getElementById('add_input')
        if(input.value == '') {
            input.style = 'border: 1px solid red;'
            return 
        } else {
            input.style = ''
            createInput()
            btn.remove()
        }

        let button = document.createElement('button')
        button.type = 'button' 
        button.id = 'del__btn'
        button.className = 'btn btn-danger'
        button.textContent = '-'
        button.onclick = () => {parent.remove()}
        parent.append(button)
    })
    editbtns.forEach(element => {
        element.onclick = () => {
            element.parentElement.children[1].disabled = false
        }
    });
    
    function createInput () {
        let customdiv = document.createElement('div')
        let span = document.createElement('span')
        let input = document.createElement('input')
        let button = document.createElement('button')

        span.className = 'input-group-text'
        span.textContent = 'Prametr'
        input.type = 'text'
        input.id = 'add_input'

        input.className = 'form-control'
        button.type = 'button' 
        button.id = 'add__btn'
        button.className = 'btn btn-primary'
        button.innerHTML = "+"
        customdiv.className = 'input-group mb-3'
        button.addEventListener('click',() => {
            if(input.value == '') {
                input.style = 'border: 1px solid red;'
                return 
            } else {
                input.style = ''
                createInput()
                button.remove()
            }
            let delbtn = document.createElement('button')
            delbtn.type = 'button' 
            delbtn.id = 'del__btn'
            delbtn.className = 'btn btn-danger'
            delbtn.textContent = '-'
            delbtn.onclick = () => {customdiv.remove()}
            customdiv.append(delbtn)
        })
       
        customdiv.append(span, input, button)
        div.append(customdiv)
        
    }
    
</script>
<script src="./js/headers.js"></script>
<script src="/js/util.js"></script>
<script src="./js/create-product.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</html>